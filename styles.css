:root{
    --emerald: #ff5f93;
    --emerald-dark: #c72f6d;
    --bg1: #1a0610;
    --bg2: #2a0b18;
    --text: #fff1f7;
    --card: rgba(255,255,255,0.06);
    --border: rgba(255,255,255,0.12);
    --shadow: 0 20px 60px rgba(0,0,0,0.45);
  }
  
  *{ box-sizing: border-box; }
  
  body{
    margin:0;
    min-height:100vh;
    min-height:100dvh;
    position: relative;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color: var(--text);
    background:
      radial-gradient(1000px 600px at 20% 10%, rgba(255,95,147,0.25), transparent 60%),
      radial-gradient(900px 600px at 80% 90%, rgba(235,72,126,0.18), transparent 55%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
    overflow-x:hidden;
    overflow-y:auto;
    padding: clamp(12px, 3vw, 24px);
  }
  
  .sparkle{
    position:fixed;
    inset:-30%;
    background:
      radial-gradient(circle at 10% 20%, rgba(255,255,255,0.06) 0 2px, transparent 3px),
      radial-gradient(circle at 70% 60%, rgba(255,255,255,0.05) 0 2px, transparent 3px),
      radial-gradient(circle at 30% 80%, rgba(255,255,255,0.04) 0 2px, transparent 3px);
    background-size: 240px 240px, 280px 280px, 320px 320px;
    animation: drift 14s linear infinite;
    pointer-events:none;
    opacity:0.9;
    z-index:0;
  }
  
  @keyframes drift{
    from{ transform: translate3d(0,0,0); }
    to{ transform: translate3d(120px, 80px, 0); }
  }
  
  .card{
    width:min(920px, 100%);
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 28px;
    box-shadow: var(--shadow);
    padding: clamp(18px, 2.2vw, 26px);
    position:relative;
    backdrop-filter: blur(10px);
    margin-inline: auto;
    margin-block: clamp(10px, 2.5vh, 28px);
    z-index: 1;
  }
  
  h1{
    margin: 16px 0 8px;
    font-size: clamp(28px, 4vw, 46px);
    line-height: 1.08;
  }
  
  .subtext{
    margin: 0 0 16px;
    color: rgba(255,241,247,0.88);
    font-size: 16px;
    line-height: 1.6;
  }
  
  .names{
    font-weight: 900;
    color: rgba(255,241,247,0.97);
  }
  
  /* Gallery */
  .galleryWrap{
    display:grid;
    grid-template-columns: 1.2fr 0.8fr;
    gap: 14px;
    margin: 14px 0 18px;
  }
  
  .viewer{
    border-radius: 20px;
    overflow:hidden;
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(0,0,0,0.22);
    position:relative;
    min-height: clamp(200px, 33vw, 320px);
  }
  
  .viewer img{
    width:100%;
    height:100%;
    object-fit: cover;
    display:block;
    transform: scale(1.02);
  }
  
  .thumbs{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    align-content:start;
  }
  
  .thumb{
    border-radius: 16px;
    overflow:hidden;
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(0,0,0,0.2);
    cursor:pointer;
    position:relative;
    transition: transform 120ms ease, filter 120ms ease;
    height: clamp(82px, 14vw, 140px);
    padding: 0;
  }
  
  .thumb:hover{ transform: translateY(-2px); filter: brightness(1.05); }
  .thumb img{
    width:100%;
    height:100%;
    object-fit: cover;
    display:block;
  }
  
  .thumb.active{
    outline: 2px solid rgba(255,105,160,0.75);
    box-shadow: 0 14px 32px rgba(255,95,147,0.26);
  }
  
  /* Buttons stage */
  .stage{
    margin-top: 6px;
    height: clamp(180px, 26vw, 220px);
    border-radius: 22px;
    border: 1px solid rgba(255,255,255,0.10);
    background:
      radial-gradient(700px 220px at 50% 0%, rgba(255,95,147,0.2), transparent 60%),
      rgba(0,0,0,0.18);
    position: relative;
    overflow:hidden;
  }
  
  .btn{
    border: 0;
    padding: 14px 18px;
    border-radius: 14px;
    font-weight: 900;
    cursor: pointer;
    transition: transform 120ms ease, box-shadow 120ms ease, filter 120ms ease;
    user-select:none;
    -webkit-tap-highlight-color: transparent;
    font-size: 16px;
  }
  
  .btn:active{ transform: scale(0.98); }
  
  .yes{
    background: linear-gradient(180deg, #ff84b0, var(--emerald-dark));
    color: #2b0412;
    box-shadow: 0 12px 30px rgba(255,95,147,0.35);
  }
  
  .yes:hover{ filter: brightness(1.08); }
  
  .no{
    background: rgba(255,255,255,0.10);
    color: rgba(255,241,247,0.95);
    border: 1px solid rgba(255,255,255,0.16);
    box-shadow: 0 10px 24px rgba(0,0,0,0.35);
    position:absolute;
  }
  
  .yesWrap{
    position:absolute;
    left: 18px;
    bottom: 18px;
  }
  
  /* Footer */
  .footer{
    margin-top: 14px;
    display:flex;
    justify-content:space-between;
    gap: 12px;
    flex-wrap:wrap;
    color: rgba(255,241,247,0.72);
    font-size: 13px;
  }
  
  /* Hearts */
  .heart{
    position:absolute;
    width: 18px; height: 18px;
    transform: rotate(45deg);
    background: rgba(255,105,160,0.28);
    border: 1px solid rgba(255,105,160,0.44);
    border-radius: 4px;
    animation: floatUp 6s linear infinite;
    pointer-events:none;
  }
  
  .heart:before, .heart:after{
    content:"";
    position:absolute;
    width: 18px; height: 18px;
    background: inherit;
    border: inherit;
    border-radius: 50%;
  }
  
  .heart:before{ left: -9px; top: 0; }
  .heart:after{ left: 0; top: -9px; }
  
  @keyframes floatUp{
    from{ transform: translateY(30px) rotate(45deg); opacity:0; }
    15%{ opacity:1; }
    to{ transform: translateY(-260px) rotate(45deg); opacity:0; }
  }
  
  /* Celebration overlay */
  .celebrationOverlay{
    position: fixed;
    inset: 0;
    display:none;
    z-index: 9999;
    background: rgba(0,0,0,0.45);
    backdrop-filter: blur(4px);
    overflow: hidden;
  }
  
  .celebrationOverlay.show{ display:block; }
  
  .confettiLayer,
  .flowerLayer{
    position: absolute;
    inset: 0;
    pointer-events: none;
  }
  
  .confettiPiece{
    position: absolute;
    top: -12vh;
    width: 10px;
    height: 18px;
    border-radius: 3px;
    opacity: 0.92;
    animation: confettiFall linear forwards;
    transform: rotate(var(--tilt));
    will-change: transform, opacity;
  }

  @keyframes confettiFall{
    from{
      transform: translate3d(0, -10vh, 0) rotate(var(--tilt));
      opacity: 0;
    }
    12%{ opacity: 1; }
    to{
      transform: translate3d(var(--drift), 118vh, 0) rotate(var(--spin));
      opacity: 0;
    }
  }

  .flowerPop{
    position: absolute;
    left: 0;
    top: 0;
    font-size: clamp(20px, 3.5vw, 34px);
    transform: translate(-50%, -50%);
    animation: flowerBurst ease-out forwards;
    filter: drop-shadow(0 8px 10px rgba(0,0,0,0.28));
    will-change: transform, opacity;
  }

  @keyframes flowerBurst{
    from{
      transform: translate(-50%, -50%) scale(0.4) rotate(0deg);
      opacity: 0;
    }
    18%{ opacity: 1; }
    to{
      transform: translate(calc(-50% + var(--x)), calc(-50% + var(--y))) scale(1.1) rotate(var(--rot));
      opacity: 0;
    }
  }

  .celebrationCard{
    position:absolute;
    left:50%;
    top:50%;
    transform: translate(-50%,-50%);
    width:min(560px, calc(100% - 30px));
    background: rgba(40, 12, 24, 0.78);
    border: 1px solid rgba(255,105,160,0.55);
    border-radius: 22px;
    box-shadow: 0 24px 70px rgba(0,0,0,0.6);
    padding: 18px 16px;
    text-align:center;
    color: rgba(255,241,247,0.97);
  }
  
  .celebrationCard h2{
    margin: 6px 0 8px;
    font-size: clamp(22px, 4.8vw, 28px);
    line-height:1.1;
  }
  
  .celebrationCard p{
    margin: 0 0 12px;
    font-size: 15px;
    color: rgba(255,241,247,0.85);
  }

  .celebrationPhoto{
    width: min(100%, 340px);
    margin: 0 auto 14px;
    padding: 6px;
    border-radius: 18px;
    border: 1px solid rgba(255,187,216,0.75);
    background: linear-gradient(145deg, rgba(255,140,185,0.35), rgba(255,94,148,0.18));
    box-shadow: 0 14px 30px rgba(0,0,0,0.35);
  }

  .celebrationPhoto img{
    width: 100%;
    display: block;
    border-radius: 12px;
    max-height: min(48vh, 350px);
    object-fit: cover;
  }
  
  .closeBtn{
    background: rgba(255,255,255,0.12);
    color: rgba(255,241,247,0.95);
    border: 1px solid rgba(255,255,255,0.18);
    padding: 10px 14px;
    border-radius: 14px;
    cursor:pointer;
    font-weight: 900;
  }
  
  /* Mobile layout improvements */
  @media (max-width: 1024px){
    .viewer{ min-height: clamp(210px, 42vw, 300px); }
    .thumb{ height: clamp(80px, 18vw, 120px); }
    .stage{ height: clamp(176px, 30vw, 212px); }
  }

  @media (max-width: 820px){
    h1{ font-size: clamp(24px, 6vw, 38px); }
    .subtext{ font-size: 15px; }
    .galleryWrap{ grid-template-columns: 1fr; }
    .thumbs{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .thumb{ height: clamp(72px, 18vw, 108px); }
    .stage{ height: clamp(176px, 44vw, 220px); }
    .footer{ font-size: 12.5px; }
  }

  @media (max-width: 560px){
    .card{ border-radius: 20px; }
    .galleryWrap{ gap: 10px; }
    .viewer{ min-height: clamp(190px, 60vw, 260px); }
    .thumbs{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .thumb{ height: clamp(84px, 28vw, 120px); }
    .stage{ height: 190px; border-radius: 18px; }
    .yesWrap{ left: 12px; bottom: 12px; }
    .btn{ font-size: 15px; padding: 12px 15px; }
    .footer{ margin-top: 12px; gap: 8px; }
  }
  
  @media (max-width: 420px){
    .card{ padding: 16px; }
    h1{ margin-top: 12px; }
    .btn{ font-size: 14px; }
    .stage{ height: 176px; }
  }

  @media (max-height: 760px){
    .viewer{ min-height: clamp(170px, 38vh, 250px); }
    .stage{ height: clamp(160px, 28vh, 200px); }
  }
  
  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    .sparkle, .heart{ animation: none !important; }
    .confettiPiece, .flowerPop{ animation: none !important; }
    .btn{ transition:none !important; }
  }
  
